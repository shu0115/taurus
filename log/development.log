  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (24.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSchedules (1)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "schedules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "schedule_date" date, "cycle" integer, "cycle_mode" varchar(255), "note" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schedules")[0m


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-05-31 23:53:20) [GET]

NoMethodError (undefined method `nth_kday?' for Mon, 24 Sep 2007:Date):
  lib/date/holiday.rb:41:in `float?'
  lib/date/holiday.rb:89:in `nhol2?'
  lib/date/holiday.rb:130:in `national_holiday?'
  lib/date/holiday.rb:130:in `instance_eval'
  lib/date/holiday.rb:130:in `national_holiday?'
  app/controllers/schedules_controller.rb:16:in `calendar'

Rendered rescues/_trace (38.8ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-05-31 23:54:33) [GET]
  [4;36;1mSchedule Load (0.4ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-05-01' AND schedule_date <= '2010-05-31') [0m
Rendering template within layouts/base
Rendering schedules/calendar

ActionView::TemplateError (undefined method `civil_to_jd' for Sat, 01 May 2010:Date) on line #41 of app/views/schedules/calendar.html.erb:
38: 	<%# ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ« %>
39: 	<% @calendar_matrix.each_with_index{ | value, index | %>
40: 		<% now_schedule = @month_schedules["#{@now_date.strftime("%Y")}-#{@now_date.strftime("%m")}-#{sprintf("%02d", value[:days].to_i)}"] %>
41: 		<% holiday_judge = Date.new( @now_date.strftime("%Y").to_i, @now_date.strftime("%m").to_i, sprintf("%02d", value[:days].to_i).to_i ).national_holiday? if value[:days].to_s != "ã€€" %>
42: 
43: 		<%# print "ã€ now_schedule ã€‘ >> " ; p now_schedule %>
44: 		<%# print "ã€ holiday_judge ã€‘ >> " ; p holiday_judge %>

    lib/date/holiday.rb:61:in `_veq'
    lib/date/holiday.rb:79:in `veq?'
    lib/date/holiday.rb:89:in `nhol2?'
    lib/date/holiday.rb:130:in `national_holiday?'
    lib/date/holiday.rb:130:in `instance_eval'
    lib/date/holiday.rb:130:in `national_holiday?'
    app/views/schedules/calendar.html.erb:41
    app/views/schedules/calendar.html.erb:39:in `each'
    app/views/schedules/calendar.html.erb:39:in `each_with_index'
    app/views/schedules/calendar.html.erb:39

Rendered rescues/_trace (63.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-05-31 23:57:11) [GET]
  [4;35;1mSchedule Load (0.7ms)[0m   [0mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-05-01' AND schedule_date <= '2010-05-31') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 164ms (View: 154, DB: 1) | 200 OK [http://localhost/]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-05-31 23:57:22) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 38ms (View: 29, DB: 0) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#new (for 127.0.0.1 at 2010-05-31 23:57:46) [GET]
  Parameters: {"schedule_date_day"=>"4", "schedule_date_month"=>"6", "schedule_date_year"=>"2010"}
Rendering template within layouts/base
Rendering schedules/new
Completed in 40ms (View: 26, DB: 0) | 200 OK [http://localhost/schedules/new?schedule_date_day=4&schedule_date_month=6&schedule_date_year=2010]


Processing SchedulesController#create (for 127.0.0.1 at 2010-05-31 23:59:14) [POST]
  Parameters: {"schedule"=>{"schedule_date(1i)"=>"2010", "title"=>"ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹æ–°åˆŠ #58", "schedule_date(2i)"=>"6", "schedule_date(3i)"=>"4", "cycle"=>"1", "note"=>"", "cycle_mode"=>"day"}, "commit"=>"ä½œæˆ", "authenticity_token"=>"oA9gD5tG/yOkgDcuKySxCcfUL4/TBjziPNXhBYXpGsg="}
  [4;35;1mSchedule Create (0.5ms)[0m   [0mINSERT INTO "schedules" ("schedule_date", "updated_at", "title", "cycle", "note", "cycle_mode", "created_at") VALUES('2010-06-04', '2010-05-31 14:59:14', 'ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹æ–°åˆŠ #58', 1, '', 'day', '2010-05-31 14:59:14')[0m
Redirected to http://localhost:3000/schedules/list
Completed in 10ms (DB: 1) | 302 Found [http://localhost/schedules/create]


Processing SchedulesController#list (for 127.0.0.1 at 2010-05-31 23:59:14) [GET]
  [4;36;1mSchedule Load (1.1ms)[0m   [0;1mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 31ms (View: 26, DB: 1) | 200 OK [http://localhost/schedules/list]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-05-31 23:59:16) [GET]
  [4;35;1mSchedule Load (0.4ms)[0m   [0mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-05-01' AND schedule_date <= '2010-05-31') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 58ms (View: 44, DB: 0) | 200 OK [http://localhost/schedules]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-05-31 23:59:19) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.6ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 148ms (View: 135, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#show (for 127.0.0.1 at 2010-05-31 23:59:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSchedule Load (0.9ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/show
Completed in 20ms (View: 13, DB: 1) | 200 OK [http://localhost/schedules/show/1]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-05-31 23:59:43) [GET]
  [4;36;1mSchedule Load (0.4ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-05-01' AND schedule_date <= '2010-05-31') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 80ms (View: 63, DB: 0) | 200 OK [http://localhost/schedules]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:02:09) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;35;1mSchedule Load (0.6ms)[0m   [0mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 112ms (View: 33, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:04:32) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (3.4ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 69ms (View: 45, DB: 3) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:11:07) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;35;1mSchedule Load (0.8ms)[0m   [0mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 78ms (View: 51, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:12:12) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.6ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 95ms (View: 82, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:12:14) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;35;1mSchedule Load (0.9ms)[0m   [0mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 26ms (View: 21, DB: 1) | 200 OK [http://localhost/schedules/list?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:12:17) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.5ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 57ms (View: 43, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:13:14) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;35;1mSchedule Load (0.5ms)[0m   [0mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 138ms (View: 123, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:14:25) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.7ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 70ms (View: 50, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#show (for 127.0.0.1 at 2010-06-01 00:15:02) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/show
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/schedules/show/1?date=2010-06-30]


Processing SchedulesController#show (for 127.0.0.1 at 2010-06-01 00:15:32) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/show
Completed in 20ms (View: 7, DB: 0) | 200 OK [http://localhost/schedules/show/1?date=2010-06-30]


Processing SchedulesController#show (for 127.0.0.1 at 2010-06-01 00:16:42) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;35;1mSchedule Load (0.4ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/show
ERROR: compiling _run_erb_app47views47schedules47show46html46erb RAISED compile error
/Users/ShunMatsumoto/Rails/workspace/taurus/app/views/schedules/show.html.erb:32: odd number list for Hash
...edules/edit/#{@schedule.id}" }, :date => @now_date ).to_s); ...
                              ^
Function body:           def _run_erb_app47views47schedules47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<span class=\"menu_title\">\351\226\262\350\246\247</span><br />\n"
@output_buffer.concat "\n"
@output_buffer.concat "<br />\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <b>\343\202\277\343\202\244\343\203\210\343\203\253:</b>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @schedule.title ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <b>\346\227\245\344\273\230:</b>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @schedule.schedule_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <b>\345\221\250\346\234\237:</b>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @schedule.cycle ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <b>\345\221\250\346\234\237\351\226\223\351\232\224:</b>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @schedule.cycle_mode ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <b>\345\202\231\350\200\203:</b>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @schedule.note ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<br />\n"
@output_buffer.concat "\n"
@output_buffer.concat(( link_to 'ç·¨é›†', { "/schedules/edit/#{@schedule.id}" }, :date => @now_date ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat(( link_to 'ä¸€è¦§', "/schedules/list", :date => @now_date ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "\n"
@output_buffer.concat "<br />\n"
@output_buffer.concat "\n"
@output_buffer.concat(( link_to 'ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼', :action => "calendar", :date => @now_date ).to_s); @output_buffer.concat "<br />\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/ShunMatsumoto/Rails/workspace/taurus/app/views/schedules/show.html.erb:41:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/ShunMatsumoto/Rails/workspace/taurus/app/views/schedules/show.html.erb:32: odd number list for Hash
...edules/edit/#{@schedule.id}" }, :date => @now_date ).to_s); ...
                              ^) on line #32 of app/views/schedules/show.html.erb:
29: 
30: <br />
31: 
32: <%= link_to 'ç·¨é›†', { "/schedules/edit/#{@schedule.id}" }, :date => @now_date %> |
33: <%= link_to 'ä¸€è¦§', "/schedules/list", :date => @now_date %><br />
34: 
35: <br />

    app/views/schedules/show.html.erb:41:in `compile!'

Rendered rescues/_trace (38.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SchedulesController#show (for 127.0.0.1 at 2010-06-01 00:18:23) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/show
Completed in 32ms (View: 25, DB: 0) | 200 OK [http://localhost/schedules/show/1?date=2010-06-30]


Processing SchedulesController#show (for 127.0.0.1 at 2010-06-01 00:19:58) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/show
Completed in 29ms (View: 12, DB: 0) | 200 OK [http://localhost/schedules/show/1?date=2010-06-30]


Processing SchedulesController#show (for 127.0.0.1 at 2010-06-01 00:20:26) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;36;1mSchedule Load (0.5ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/show
Completed in 25ms (View: 15, DB: 1) | 200 OK [http://localhost/schedules/show/1?date=2010-06-30]


Processing SchedulesController#show (for 127.0.0.1 at 2010-06-01 00:20:59) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;35;1mSchedule Load (0.4ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/show
Completed in 24ms (View: 17, DB: 0) | 200 OK [http://localhost/schedules/show/1?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:21:07) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.6ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 116ms (View: 47, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#show (for 127.0.0.1 at 2010-06-01 00:21:09) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/show
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/schedules/show/1?date=2010-06-30]


Processing SchedulesController#edit (for 127.0.0.1 at 2010-06-01 00:21:11) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;36;1mSchedule Load (0.4ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/edit
Completed in 37ms (View: 30, DB: 0) | 200 OK [http://localhost/schedules/edit/1?date=2010-06-30]


Processing SchedulesController#edit (for 127.0.0.1 at 2010-06-01 00:22:31) [GET]
  Parameters: {"date"=>"2010-06-30", "id"=>"1"}
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/base
Rendering schedules/edit
Completed in 61ms (View: 39, DB: 0) | 200 OK [http://localhost/schedules/edit/1?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:22:37) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.7ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 57ms (View: 43, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#new (for 127.0.0.1 at 2010-06-01 00:22:49) [GET]
  Parameters: {"schedule_date_day"=>"4", "date"=>"2010-06-30", "schedule_date_month"=>"6", "schedule_date_year"=>"2010"}
Rendering template within layouts/base
Rendering schedules/new
Completed in 85ms (View: 23, DB: 0) | 200 OK [http://localhost/schedules/new?date=2010-06-30&schedule_date_day=4&schedule_date_month=6&schedule_date_year=2010]


Processing SchedulesController#new (for 127.0.0.1 at 2010-06-01 00:23:24) [GET]
  Parameters: {"schedule_date_day"=>"4", "date"=>"2010-06-30", "schedule_date_month"=>"6", "schedule_date_year"=>"2010"}
Rendering template within layouts/base
Rendering schedules/new
Completed in 36ms (View: 29, DB: 0) | 200 OK [http://localhost/schedules/new?date=2010-06-30&schedule_date_day=4&schedule_date_month=6&schedule_date_year=2010]


Processing SchedulesController#new (for 127.0.0.1 at 2010-06-01 00:24:30) [GET]
  Parameters: {"schedule_date_day"=>"4", "date"=>"2010-06-30", "schedule_date_month"=>"6", "schedule_date_year"=>"2010"}
Rendering template within layouts/base
Rendering schedules/new
Completed in 38ms (View: 28, DB: 0) | 200 OK [http://localhost/schedules/new?date=2010-06-30&schedule_date_day=4&schedule_date_month=6&schedule_date_year=2010]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:24:46) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;35;1mSchedule Load (1.1ms)[0m   [0mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 18ms (View: 13, DB: 1) | 200 OK [http://localhost/schedules/list?date=2010-06-30]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:26:21) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (1.6ms)[0m   [0;1mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #29 of app/views/schedules/list.html.erb:
26:     <td><%= link_to 'ç·¨é›†', "/schedules/edit/#{schedule.id}" %></td>
27:     <td><%= link_to 'å‰Šé™¤', "/schedules/destroy/#{schedule.id}", :confirm => 'æœ¬å½“ã«å‰Šé™¤ã—ã¦ã‚ˆã‚ã—ã„ã§ã™ã‹?', :method => :delete %></td>
28: 
29:     <td><%= link_to 'é–²è¦§', { :controller => "schedules", :action => "show", :id => @schedule.id, :date => @now_date } %></td>
30:     <td><%= link_to 'ç·¨é›†', { :controller => "schedules", :action => "edit", :id => @schedule.id, :date => @now_date } %></td>
31:     <td><%= link_to 'å‰Šé™¤', "/schedules/destroy/#{schedule.id}", :confirm => 'æœ¬å½“ã«å‰Šé™¤ã—ã¦ã‚ˆã‚ã—ã„ã§ã™ã‹?', :method => :delete, :date => @now_date %></td>
32:   </tr>

    app/views/schedules/list.html.erb:29
    app/views/schedules/list.html.erb:18:in `each'
    app/views/schedules/list.html.erb:18

Rendered rescues/_trace (52.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:26:45) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;35;1mSchedule Load (1.1ms)[0m   [0mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 45ms (View: 39, DB: 1) | 200 OK [http://localhost/schedules/list?date=2010-06-30]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:27:22) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (1.0ms)[0m   [0;1mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 35ms (View: 30, DB: 1) | 200 OK [http://localhost/schedules/list?date=2010-06-30]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:27:31) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;35;1mSchedule Load (1.0ms)[0m   [0mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 27ms (View: 22, DB: 1) | 200 OK [http://localhost/schedules/list?date=2010-06-30]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:28:19) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.9ms)[0m   [0;1mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 43ms (View: 38, DB: 1) | 200 OK [http://localhost/schedules/list?date=2010-06-30]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:28:40) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;35;1mSchedule Load (1.0ms)[0m   [0mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 27ms (View: 22, DB: 1) | 200 OK [http://localhost/schedules/list?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:28:42) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.5ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 107ms (View: 92, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#new (for 127.0.0.1 at 2010-06-01 00:41:27) [GET]
  Parameters: {"schedule_date_day"=>"5", "date"=>"2010-06-30", "schedule_date_month"=>"6", "schedule_date_year"=>"2010"}
Rendering template within layouts/base
Rendering schedules/new
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/schedules/new?date=2010-06-30&schedule_date_day=5&schedule_date_month=6&schedule_date_year=2010]


Processing SchedulesController#create (for 127.0.0.1 at 2010-06-01 00:41:38) [POST]
  Parameters: {"schedule"=>{"schedule_date(1i)"=>"2010", "title"=>"ITå‹‰å¼·ä¼šiné–¢æ±(ã‚µãƒã‚¤ãƒ–SNS)", "schedule_date(2i)"=>"6", "schedule_date(3i)"=>"5", "cycle"=>"1", "note"=>"é–‹å‚¬æ—¥æ™‚\t2010-06-05 18ï¼š00-22ï¼š00\r\né–‹å‚¬å ´æ‰€\tæ±äº¬éƒ½å ´æ‰€ï¼šå’Œæ³‰æ©‹åŒºæ°‘é¤¨ã€€æ´‹å®¤D", "cycle_mode"=>"day"}, "commit"=>"ä½œæˆ", "date"=>"2010-06-30", "authenticity_token"=>"oA9gD5tG/yOkgDcuKySxCcfUL4/TBjziPNXhBYXpGsg="}
  [4;35;1mSchedule Create (1.5ms)[0m   [0mINSERT INTO "schedules" ("schedule_date", "updated_at", "title", "cycle", "note", "cycle_mode", "created_at") VALUES('2010-06-05', '2010-05-31 15:41:38', 'ITå‹‰å¼·ä¼šiné–¢æ±(ã‚µãƒã‚¤ãƒ–SNS)', 1, 'é–‹å‚¬æ—¥æ™‚	2010-06-05 18ï¼š00-22ï¼š00
é–‹å‚¬å ´æ‰€	æ±äº¬éƒ½å ´æ‰€ï¼šå’Œæ³‰æ©‹åŒºæ°‘é¤¨ã€€æ´‹å®¤D', 'day', '2010-05-31 15:41:38')[0m
Redirected to http://localhost:3000/schedules/list
Completed in 11ms (DB: 1) | 302 Found [http://localhost/schedules/create]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:41:38) [GET]

TypeError (can't dup NilClass):
  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/date/format.rb:959:in `dup'
  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/date/format.rb:959:in `_parse'
  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/date.rb:974:in `parse'
  app/controllers/schedules_controller.rb:54:in `list'

Rendered rescues/_trace (111.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SchedulesController#new (for 127.0.0.1 at 2010-06-01 00:43:07) [GET]
  Parameters: {"schedule_date_day"=>"5", "date"=>"2010-06-30", "schedule_date_month"=>"6", "schedule_date_year"=>"2010"}
Rendering template within layouts/base
Rendering schedules/new
Completed in 31ms (View: 24, DB: 0) | 200 OK [http://localhost/schedules/new?date=2010-06-30&schedule_date_day=5&schedule_date_month=6&schedule_date_year=2010]


Processing SchedulesController#create (for 127.0.0.1 at 2010-06-01 00:43:10) [POST]
  Parameters: {"schedule"=>{"schedule_date(1i)"=>"2010", "title"=>"ITå‹‰å¼·ä¼šiné–¢æ±(ã‚µãƒã‚¤ãƒ–SNS)", "schedule_date(2i)"=>"6", "schedule_date(3i)"=>"5", "cycle"=>"1", "note"=>"é–‹å‚¬æ—¥æ™‚\t2010-06-05 18ï¼š00-22ï¼š00\r\né–‹å‚¬å ´æ‰€\tæ±äº¬éƒ½å ´æ‰€ï¼šå’Œæ³‰æ©‹åŒºæ°‘é¤¨ã€€æ´‹å®¤D", "cycle_mode"=>"day"}, "commit"=>"ä½œæˆ", "date"=>"2010-06-30", "authenticity_token"=>"oA9gD5tG/yOkgDcuKySxCcfUL4/TBjziPNXhBYXpGsg="}
  [4;36;1mSchedule Create (0.4ms)[0m   [0;1mINSERT INTO "schedules" ("schedule_date", "updated_at", "title", "cycle", "note", "cycle_mode", "created_at") VALUES('2010-06-05', '2010-05-31 15:43:10', 'ITå‹‰å¼·ä¼šiné–¢æ±(ã‚µãƒã‚¤ãƒ–SNS)', 1, 'é–‹å‚¬æ—¥æ™‚	2010-06-05 18ï¼š00-22ï¼š00
é–‹å‚¬å ´æ‰€	æ±äº¬éƒ½å ´æ‰€ï¼šå’Œæ³‰æ©‹åŒºæ°‘é¤¨ã€€æ´‹å®¤D', 'day', '2010-05-31 15:43:10')[0m
Redirected to http://localhost:3000/schedules/list?date=2010-06-30
Completed in 10ms (DB: 0) | 302 Found [http://localhost/schedules/create]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:43:10) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;35;1mSchedule Load (1.2ms)[0m   [0mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 102ms (View: 97, DB: 1) | 200 OK [http://localhost/schedules/list?date=2010-06-30]


Processing SchedulesController#calendar (for 127.0.0.1 at 2010-06-01 00:43:16) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (0.8ms)[0m   [0;1mSELECT * FROM "schedules" WHERE (schedule_date >= '2010-06-01' AND schedule_date <= '2010-06-30') [0m
Rendering template within layouts/base
Rendering schedules/calendar
Completed in 54ms (View: 42, DB: 1) | 200 OK [http://localhost/schedules?date=2010-06-30]


Processing SchedulesController#new (for 127.0.0.1 at 2010-06-01 00:43:18) [GET]
  Parameters: {"schedule_date_day"=>"5", "date"=>"2010-06-30", "schedule_date_month"=>"6", "schedule_date_year"=>"2010"}
Rendering template within layouts/base
Rendering schedules/new
Completed in 23ms (View: 17, DB: 0) | 200 OK [http://localhost/schedules/new?date=2010-06-30&schedule_date_day=5&schedule_date_month=6&schedule_date_year=2010]


Processing SchedulesController#create (for 127.0.0.1 at 2010-06-01 00:43:25) [POST]
  Parameters: {"schedule"=>{"schedule_date(1i)"=>"2010", "title"=>"ãƒ†ã‚¹ãƒˆ", "schedule_date(2i)"=>"6", "schedule_date(3i)"=>"5", "cycle"=>"1", "note"=>"ãƒ†ã‚¹ãƒˆ", "cycle_mode"=>"day"}, "commit"=>"ä½œæˆ", "date"=>"2010-06-30", "authenticity_token"=>"oA9gD5tG/yOkgDcuKySxCcfUL4/TBjziPNXhBYXpGsg="}
  [4;35;1mSchedule Create (0.4ms)[0m   [0mINSERT INTO "schedules" ("schedule_date", "updated_at", "title", "cycle", "note", "cycle_mode", "created_at") VALUES('2010-06-05', '2010-05-31 15:43:25', 'ãƒ†ã‚¹ãƒˆ', 1, 'ãƒ†ã‚¹ãƒˆ', 'day', '2010-05-31 15:43:25')[0m
Redirected to http://localhost:3000/schedules/list?date=2010-06-30
Completed in 11ms (DB: 0) | 302 Found [http://localhost/schedules/create]


Processing SchedulesController#list (for 127.0.0.1 at 2010-06-01 00:43:25) [GET]
  Parameters: {"date"=>"2010-06-30"}
  [4;36;1mSchedule Load (1.2ms)[0m   [0;1mSELECT * FROM "schedules" ORDER BY schedule_date DESC, id ASC[0m
Rendering template within layouts/base
Rendering schedules/list
Completed in 47ms (View: 42, DB: 1) | 200 OK [http://localhost/schedules/list?date=2010-06-30]
